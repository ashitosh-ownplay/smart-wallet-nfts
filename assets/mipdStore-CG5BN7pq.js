import{M as s,e as u}from"./index-B8mjO7EN.js";function f(r){if(typeof window>"u")return;const e=t=>r(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function c(){const r=new Set;let e=[];const t=()=>f(n=>{e.some(({info:i})=>i.uuid===n.info.uuid)||(e=[...e,n],r.forEach(i=>i(e,{added:[n]})))});let o=t();return{_listeners(){return r},clear(){r.forEach(n=>n([],{removed:[...e]})),e=[]},destroy(){this.clear(),r.clear(),o==null||o()},findProvider({rdns:n}){return e.find(i=>i.info.rdns===n)},getProviders(){return e},reset(){this.clear(),o==null||o(),o=t()},subscribe(n,{emitImmediately:i}={}){return r.add(n),i&&n(e,{added:e}),()=>r.delete(n)}}}const d=u()?c():void 0;function m(r){const e=v().find(t=>t.info.rdns===r);return e==null?void 0:e.provider}function a(){if(d)return d}function v(){var e;const r=((e=a())==null?void 0:e.getProviders())||[];for(const t of r)if(t.info.rdns==="io.metamask.mobile"){t.info.rdns=s;break}return r}export{v as getInstalledWalletProviders,m as injectedProvider};
